(this["webpackJsonpartwalk-photo-album-react"]=this["webpackJsonpartwalk-photo-album-react"]||[]).push([[0],{21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),u=a.n(c),l=a(1),o=a.n(l),i=a(3),s=a(2),m=a(4);var p=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],u=a[1];return r.a.createElement("div",{className:"formContent"},r.a.createElement("h3",null,"New album"),r.a.createElement("input",{type:"text",name:"album",placeholder:"album name",onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.createAlbum(c)}},"Create"))};var f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Albums"),r.a.createElement("div",{className:"album-container"},e.albums.map((function(e,t){return r.a.createElement(m.a,{to:"".concat(e.name),key:t},r.a.createElement("li",null,e.name))}))),r.a.createElement(p,{createAlbum:e.createAlbum}))};var b=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],u=a[1];return r.a.createElement("div",{className:"formContent"},r.a.createElement("h3",null,"Upload picture"),r.a.createElement("input",{type:"file",name:"uploadFile",onChange:function(e){u(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",onClick:function(){return e.uploadPicture(c,e.album)}},"Upload!"))};var h=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],u=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPictures(e.album);case 2:a=t.sent,u(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement(m.a,{to:"/"},"Albums")," / ",e.album),r.a.createElement("div",{id:"photo-gallery",style:{maxWidth:270}},c.map((function(e){return r.a.createElement("a",{href:"".concat("/","static/").concat(e.fileName),target:"_blank",key:e.fileName,rel:"noopener noreferrer"},r.a.createElement("img",{style:{maxWidth:270},alt:"file name: ".concat(e.fileName),src:"".concat("/","static/").concat(e.fileName)}))}))),r.a.createElement(b,{album:e.album,uploadPicture:e.uploadPicture}))},d=a.p+"static/media/ArtWalk_Logo final_ww.317c96ce.png";var E=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:d,width:"270",alt:"Artwalk Inc. logo"}))};console.log("Artwalks got it!");var v="/";var w=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(0),l=Object(s.a)(u,2),p=l[0],b=l[1];function d(){return(d=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(v,"api/").concat(t,"/pictures"),e.next=3,fetch(a);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(v,"api/albums"),e.next=3,fetch(t);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,console.log("album name",t),a.append("album",t),e.next=5,fetch("".concat(v,"api/albums"),{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:e.sent,b(p+1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark((function e(t,a){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("uploadFile",t),n.append("album",a),e.next=5,fetch("".concat(v,"api/pictures"),{method:"POST",body:n});case 5:return r=e.sent,e.next=8,r.json();case 8:c=e.sent,console.log("Picture upload",c),b(p+1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Create an Album"),r.a.createElement(m.b,null,r.a.createElement(f,{path:"/",albums:a,createAlbum:function(e){return j.apply(this,arguments)},updates:p}),r.a.createElement(h,{path:"/:album",getPictures:function(e){return d.apply(this,arguments)},uploadPicture:function(e,t){return g.apply(this,arguments)},updates:p})),r.a.createElement("br",null),r.a.createElement(E,null))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.0d9ba07a.chunk.js.map