{"version":3,"sources":["Album/CreateAlbum.js","Album/Albums.js","Album/UploadPicture.js","Album/Album.js","Logo/ArtWalk_Logo final_ww.png","Logo/Gallery.js","App.js","index.js"],"names":["CreateAlbum","props","useState","input","setInput","className","type","name","placeholder","onChange","event","target","value","onClick","createAlbum","Albums","albums","map","element","index","to","key","UploadPicture","file","setFile","files","uploadPicture","album","Album","photos","setPhotos","useEffect","a","getPictures","data","getData","id","style","maxWidth","href","process","fileName","rel","alt","src","Gallery","CompanyLogo","width","console","log","APP_URL","App","setAlbums","updates","setUpdates","url","fetch","response","json","getAlbums","formData","FormData","append","method","body","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d9ba07a.chunk.js","sourcesContent":["import React, {useState} from 'react';\n\nfunction CreateAlbum(props) {\n  const [input, setInput] = useState();\n\n  return (\n    <div className=\"formContent\">\n      <h3>New album</h3>\n      <input type=\"text\" name=\"album\" placeholder=\"album name\" \n        onChange={event => setInput(event.target.value)}/><br/>\n      <button onClick={() => props.createAlbum(input)}>Create</button>\n    </div>\n  );\n}\n\nexport default CreateAlbum;\n","import React from 'react';\nimport {Link} from \"@reach/router\"\nimport CreateAlbum from './CreateAlbum';\n\nfunction Albums(props) {\n  return (\n    <>\n      <h3>Albums</h3>\n      <div className=\"album-container\">\n        {props.albums.map((element, index) => \n         \n              <Link to={`${element.name}`} key={index}><li>{element.name}</li></Link>\n           \n        )}\n      </div>\n      <CreateAlbum createAlbum={props.createAlbum}></CreateAlbum>\n    </>\n  );\n}\n\nexport default Albums;","import React, {useState} from 'react';\n\nfunction UploadPicture(props) {\n  const [file, setFile] = useState();\n\n  function handleFileChange(event) {\n    setFile(event.target.files[0]);\n  }\n\n  return (\n    <div className=\"formContent\">\n      <h3>Upload picture</h3>\n      <input type=\"file\" name=\"uploadFile\" onChange={handleFileChange}/><br/>\n      <button type=\"submit\" onClick={() => props.uploadPicture(file, props.album)}>Upload!</button>\n    </div>\n  );\n}\n\nexport default UploadPicture;\n","import React, {useState, useEffect} from 'react';\nimport {Link} from \"@reach/router\"\nimport UploadPicture from \"./UploadPicture\";\n\nconst APP_URL = process.env.REACT_APP_URL;\n\nfunction Album(props) {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    async function getData() {\n      const data = await props.getPictures(props.album);\n      setPhotos(data);\n    }\n    getData();\n  }, [props]); // Only runs once!\n\n  return (\n    <>\n      <h3><Link to=\"/\">Albums</Link> / {props.album}</h3>\n\n      <div id=\"photo-gallery\" style={{maxWidth: 270}} >\n      {photos.map(element => \n        <a href={`${APP_URL}static/${element.fileName}`} \n          target=\"_blank\" key={element.fileName} rel=\"noopener noreferrer\">\n          <img style={{maxWidth: 270}} alt={`file name: ${element.fileName}`}\n            src={`${APP_URL}static/${element.fileName}`}>\n          </img>\n        </a>\n        )}\n      </div>\n\n      <UploadPicture \n        album={props.album} \n        uploadPicture={props.uploadPicture}/>\n    </>\n  );\n}\n\nexport default Album;\n","export default __webpack_public_path__ + \"static/media/ArtWalk_Logo final_ww.317c96ce.png\";","import React from \"react\";\nimport CompanyLogo from \"./ArtWalk_Logo final_ww.png\";\nfunction Gallery() {\n  return (\n    <div>\n      <img src={CompanyLogo} width=\"270\" alt=\"Artwalk Inc. logo\"/>\n    </div>\n  );\n}\nexport default Gallery","import React, {useEffect, useState} from 'react';\nimport { Router } from \"@reach/router\"\n\nimport Albums from \"./Album/Albums\";\nimport Album from \"./Album/Album\";\nimport Gallery from \"./Logo/Gallery\";\n\nconsole.log(\"Artwalks got it!\");\nconst APP_URL = process.env.REACT_APP_URL;\n\nfunction App() {\n  const [albums, setAlbums] = useState([]);\n  const [updates, setUpdates] = useState(0);\n\n  async function getPictures(album) {\n    const url = `${APP_URL}api/${album}/pictures`;\n    const response = await fetch(url);\n    return response.json();\n  }\n  \n  async function getAlbums() {\n    const url = `${APP_URL}api/albums`;\n    const response = await fetch(url);\n    return response.json();\n  }\n\n  async function createAlbum(name) {\n    const formData = new FormData();\n    console.log(\"album name\", name);\n    formData.append('album', name);\n\n    const response = await fetch(`${APP_URL}api/albums`, {\n      method: 'POST',\n      body: formData\n    });\n    const data = await response.json();\n\n\n    setUpdates(updates + 1); // Force reload of album\n  }\n  \n  async function uploadPicture(file, album) {\n    const formData = new FormData();\n    formData.append('uploadFile', file);\n    formData.append('album', album);\n  \n    const response = await fetch(`${APP_URL}api/pictures`, {\n      method: 'POST',\n      body: formData\n    });\n    const data = await response.json();\n    console.log(\"Picture upload\", data);\n\n    setUpdates(updates + 1); // Force reload of album\n  }\n\n  // Only use effect once! ([] means don't depend on anything in the app)\n  useEffect(() => {\n    async function getData() {\n      const data = await getAlbums();\n      setAlbums(data);\n    }\n    getData();\n  }, [updates]); \n\n  return (\n    <>\n      <h3>Create an Album</h3>\n      <Router>\n        <Albums path=\"/\" \n          albums={albums} \n          createAlbum={createAlbum}\n          updates={updates}></Albums>\n        <Album path=\"/:album\" \n          getPictures={getPictures} \n          uploadPicture={uploadPicture}\n          updates={updates}></Album>\n      </Router>\n      <br />\n      <Gallery/>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}